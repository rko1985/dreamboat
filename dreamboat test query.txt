SELECT * FROM boats
    inner join boat_types
    	on boats.boat_id = boat_types.boat_id
    inner join types
    	on boat_types.type_id = types.type_id
where types.type_id in (1,2)
    group by boats.boat_name
	HAVING COUNT(*) = 2 

SELECT boats.* FROM boats

INNER JOIN boat_types ON boats.boat_id = boat_types.boat_id INNER JOIN types ON boat_types.type_id = types.type_id

INNER JOIN boat_mast ON boats.boat_id = boat_mast.boat_id INNER JOIN mast ON boat_mast.mast_id = mast.mast_id

WHERE (types.type_id = 1) OR (types.type_id = 2 AND mast.mast_id = 3)

GROUP BY boats.boat_name HAVING COUNT(*) = 3